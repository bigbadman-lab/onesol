{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"expo-notifications","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":52,"index":52}}],"key":"nrBDtkRVez7cBhLzyaRjl+xVfvE=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  exports.scheduleDailyNotification = scheduleDailyNotification;\n  exports.cancelDailyNotification = cancelDailyNotification;\n  exports.testLocalNotificationIn10Seconds = testLocalNotificationIn10Seconds;\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _expoNotifications = require(_dependencyMap[1], \"expo-notifications\");\n  var Notifications = _interopNamespace(_expoNotifications);\n  Notifications.setNotificationHandler({\n    handleNotification: function () {\n      var _ref = (0, _asyncToGenerator.default)(function* () {\n        return {\n          shouldShowAlert: true,\n          shouldPlaySound: true,\n          shouldSetBadge: false\n        };\n      });\n      return function handleNotification() {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  });\n  var DAILY_NOTIFICATION_IDENTIFIER = 'daily_trade_reminder';\n\n  /**\n   * Calculate seconds until midnight\n   */\n  function getSecondsUntilMidnight() {\n    var now = new Date();\n    var midnight = new Date();\n    midnight.setHours(24, 0, 0, 0); // Next midnight\n    var diff = midnight.getTime() - now.getTime();\n    return Math.floor(diff / 1000);\n  }\n\n  /**\n   * Schedule a daily notification at midnight\n   */\n  function scheduleDailyNotification() {\n    return _scheduleDailyNotification.apply(this, arguments);\n  }\n  /**\n   * Cancel the daily notification\n   */\n  function _scheduleDailyNotification() {\n    _scheduleDailyNotification = (0, _asyncToGenerator.default)(function* () {\n      try {\n        var _yield$Notifications$ = yield Notifications.requestPermissionsAsync(),\n          status = _yield$Notifications$.status;\n        if (status !== 'granted') {\n          return {\n            ok: false,\n            reason: 'permission_denied'\n          };\n        }\n\n        // Cancel any existing daily notification first\n        yield Notifications.cancelScheduledNotificationAsync(DAILY_NOTIFICATION_IDENTIFIER);\n        var secondsUntilMidnight = getSecondsUntilMidnight();\n\n        // If midnight has already passed today, schedule for tomorrow\n        var triggerSeconds = secondsUntilMidnight > 0 ? secondsUntilMidnight : secondsUntilMidnight + 86400;\n        var notificationId = yield Notifications.scheduleNotificationAsync({\n          identifier: DAILY_NOTIFICATION_IDENTIFIER,\n          content: {\n            title: 'New trades available! ðŸŽ®',\n            body: 'Fresh trades are ready. Come back and test your skills!',\n            sound: true,\n            data: {\n              kind: 'daily_reminder'\n            }\n          },\n          trigger: {\n            type: 'time',\n            seconds: triggerSeconds,\n            repeats: true\n          }\n        });\n        console.log('Daily notification scheduled with ID:', notificationId);\n        console.log('Will fire at midnight, repeating daily');\n        return {\n          ok: true,\n          notificationId\n        };\n      } catch (error) {\n        console.error('Error scheduling daily notification:', error);\n        return {\n          ok: false,\n          reason: 'error'\n        };\n      }\n    });\n    return _scheduleDailyNotification.apply(this, arguments);\n  }\n  function cancelDailyNotification() {\n    return _cancelDailyNotification.apply(this, arguments);\n  }\n  /**\n   * Test notification function (for debugging)\n   */\n  function _cancelDailyNotification() {\n    _cancelDailyNotification = (0, _asyncToGenerator.default)(function* () {\n      try {\n        yield Notifications.cancelScheduledNotificationAsync(DAILY_NOTIFICATION_IDENTIFIER);\n        console.log('Daily notification cancelled');\n      } catch (error) {\n        console.error('Error cancelling daily notification:', error);\n      }\n    });\n    return _cancelDailyNotification.apply(this, arguments);\n  }\n  function testLocalNotificationIn10Seconds() {\n    return _testLocalNotificationIn10Seconds.apply(this, arguments);\n  }\n  function _testLocalNotificationIn10Seconds() {\n    _testLocalNotificationIn10Seconds = (0, _asyncToGenerator.default)(function* () {\n      var _yield$Notifications$2 = yield Notifications.requestPermissionsAsync(),\n        status = _yield$Notifications$2.status;\n      if (status !== 'granted') {\n        return {\n          ok: false,\n          reason: 'permission_denied'\n        };\n      }\n      var notificationId = yield Notifications.scheduleNotificationAsync({\n        content: {\n          title: 'Test notification âœ…',\n          body: 'If you see this, notifications are working.',\n          sound: true,\n          data: {\n            kind: 'test'\n          }\n        },\n        trigger: {\n          type: 'time',\n          seconds: 25\n        }\n      });\n      console.log('Notification scheduled with ID:', notificationId, 'at', new Date().toISOString());\n      console.log('Expected to fire at:', new Date(Date.now() + 25000).toISOString());\n      return {\n        ok: true\n      };\n    });\n    return _testLocalNotificationIn10Seconds.apply(this, arguments);\n  }\n});","lineCount":172,"map":[[27,2,27,0,"exports"],[27,9,27,0],[27,10,27,0,"scheduleDailyNotification"],[27,35,27,0],[27,38,27,0,"scheduleDailyNotification"],[27,63,27,0],[28,2,73,0,"exports"],[28,9,73,0],[28,10,73,0,"cancelDailyNotification"],[28,33,73,0],[28,36,73,0,"cancelDailyNotification"],[28,59,73,0],[29,2,85,0,"exports"],[29,9,85,0],[29,10,85,0,"testLocalNotificationIn10Seconds"],[29,42,85,0],[29,45,85,0,"testLocalNotificationIn10Seconds"],[29,77,85,0],[30,2,108,1],[30,6,108,1,"_babelRuntimeHelpersAsyncToGenerator"],[30,42,108,1],[30,45,108,1,"require"],[30,52,108,1],[30,53,108,1,"_dependencyMap"],[30,67,108,1],[31,2,108,1],[31,6,108,1,"_asyncToGenerator"],[31,23,108,1],[31,26,108,1,"_interopDefault"],[31,41,108,1],[31,42,108,1,"_babelRuntimeHelpersAsyncToGenerator"],[31,78,108,1],[32,2,1,0],[32,6,1,0,"_expoNotifications"],[32,24,1,0],[32,27,1,0,"require"],[32,34,1,0],[32,35,1,0,"_dependencyMap"],[32,49,1,0],[33,2,1,0],[33,6,1,0,"Notifications"],[33,19,1,0],[33,22,1,0,"_interopNamespace"],[33,39,1,0],[33,40,1,0,"_expoNotifications"],[33,58,1,0],[34,2,3,0,"Notifications"],[34,15,3,13],[34,16,3,14,"setNotificationHandler"],[34,38,3,36],[34,39,3,37],[35,4,4,2,"handleNotification"],[35,22,4,20],[36,6,4,20],[36,10,4,20,"_ref"],[36,14,4,20],[36,21,4,20,"_asyncToGenerator"],[36,38,4,20],[36,39,4,20,"default"],[36,46,4,20],[36,48,4,22],[37,8,4,22],[37,15,4,35],[38,10,5,4,"shouldShowAlert"],[38,25,5,19],[38,27,5,21],[38,31,5,25],[39,10,6,4,"shouldPlaySound"],[39,25,6,19],[39,27,6,21],[39,31,6,25],[40,10,7,4,"shouldSetBadge"],[40,24,7,18],[40,26,7,20],[41,8,8,2],[41,9,8,3],[42,6,8,3],[42,7,8,4],[43,6,8,4],[43,22,4,2,"handleNotification"],[43,40,4,20,"handleNotification"],[43,41,4,20],[44,8,4,20],[44,15,4,20,"_ref"],[44,19,4,20],[44,20,4,20,"apply"],[44,25,4,20],[44,32,4,20,"arguments"],[44,41,4,20],[45,6,4,20],[46,4,4,20],[47,2,9,0],[47,3,9,1],[47,4,9,2],[48,2,11,0],[48,6,11,6,"DAILY_NOTIFICATION_IDENTIFIER"],[48,35,11,35],[48,38,11,38],[48,60,11,60],[50,2,13,0],[51,0,14,0],[52,0,15,0],[53,2,16,0],[53,11,16,9,"getSecondsUntilMidnight"],[53,34,16,32,"getSecondsUntilMidnight"],[53,35,16,32],[53,37,16,43],[54,4,17,2],[54,8,17,8,"now"],[54,11,17,11],[54,14,17,14],[54,18,17,18,"Date"],[54,22,17,22],[54,23,17,23],[54,24,17,24],[55,4,18,2],[55,8,18,8,"midnight"],[55,16,18,16],[55,19,18,19],[55,23,18,23,"Date"],[55,27,18,27],[55,28,18,28],[55,29,18,29],[56,4,19,2,"midnight"],[56,12,19,10],[56,13,19,11,"setHours"],[56,21,19,19],[56,22,19,20],[56,24,19,22],[56,26,19,24],[56,27,19,25],[56,29,19,27],[56,30,19,28],[56,32,19,30],[56,33,19,31],[56,34,19,32],[56,35,19,33],[56,36,19,34],[57,4,20,2],[57,8,20,8,"diff"],[57,12,20,12],[57,15,20,15,"midnight"],[57,23,20,23],[57,24,20,24,"getTime"],[57,31,20,31],[57,32,20,32],[57,33,20,33],[57,36,20,36,"now"],[57,39,20,39],[57,40,20,40,"getTime"],[57,47,20,47],[57,48,20,48],[57,49,20,49],[58,4,21,2],[58,11,21,9,"Math"],[58,15,21,13],[58,16,21,14,"floor"],[58,21,21,19],[58,22,21,20,"diff"],[58,26,21,24],[58,29,21,27],[58,33,21,31],[58,34,21,32],[59,2,22,0],[61,2,24,0],[62,0,25,0],[63,0,26,0],[64,2,24,0],[64,11,27,22,"scheduleDailyNotification"],[64,36,27,47,"scheduleDailyNotification"],[64,37,27,47],[65,4,27,47],[65,11,27,47,"_scheduleDailyNotification"],[65,37,27,47],[65,38,27,47,"apply"],[65,43,27,47],[65,50,27,47,"arguments"],[65,59,27,47],[66,2,27,47],[67,2,70,0],[68,0,71,0],[69,0,72,0],[70,2,70,0],[70,11,70,0,"_scheduleDailyNotification"],[70,38,70,0],[71,4,70,0,"_scheduleDailyNotification"],[71,30,70,0],[71,37,70,0,"_asyncToGenerator"],[71,54,70,0],[71,55,70,0,"default"],[71,62,70,0],[71,64,27,7],[71,77,29,2],[72,6,30,2],[72,10,30,6],[73,8,31,4],[73,12,31,4,"_yield$Notifications$"],[73,33,31,4],[73,42,31,29,"Notifications"],[73,55,31,42],[73,56,31,43,"requestPermissionsAsync"],[73,79,31,66],[73,80,31,67],[73,81,31,68],[74,10,31,12,"status"],[74,16,31,18],[74,19,31,18,"_yield$Notifications$"],[74,40,31,18],[74,41,31,12,"status"],[74,47,31,18],[75,8,33,4],[75,12,33,8,"status"],[75,18,33,14],[75,23,33,19],[75,32,33,28],[75,34,33,30],[76,10,34,6],[76,17,34,13],[77,12,34,15,"ok"],[77,14,34,17],[77,16,34,19],[77,21,34,24],[78,12,34,26,"reason"],[78,18,34,32],[78,20,34,34],[79,10,34,54],[79,11,34,55],[80,8,35,4],[82,8,37,4],[83,8,38,4],[83,14,38,10,"Notifications"],[83,27,38,23],[83,28,38,24,"cancelScheduledNotificationAsync"],[83,60,38,56],[83,61,38,57,"DAILY_NOTIFICATION_IDENTIFIER"],[83,90,38,86],[83,91,38,87],[84,8,40,4],[84,12,40,10,"secondsUntilMidnight"],[84,32,40,30],[84,35,40,33,"getSecondsUntilMidnight"],[84,58,40,56],[84,59,40,57],[84,60,40,58],[86,8,42,4],[87,8,43,4],[87,12,43,10,"triggerSeconds"],[87,26,43,24],[87,29,43,27,"secondsUntilMidnight"],[87,49,43,47],[87,52,43,50],[87,53,43,51],[87,56,43,54,"secondsUntilMidnight"],[87,76,43,74],[87,79,43,77,"secondsUntilMidnight"],[87,99,43,97],[87,102,43,100],[87,107,43,105],[88,8,45,4],[88,12,45,10,"notificationId"],[88,26,45,24],[88,35,45,33,"Notifications"],[88,48,45,46],[88,49,45,47,"scheduleNotificationAsync"],[88,74,45,72],[88,75,45,73],[89,10,46,6,"identifier"],[89,20,46,16],[89,22,46,18,"DAILY_NOTIFICATION_IDENTIFIER"],[89,51,46,47],[90,10,47,6,"content"],[90,17,47,13],[90,19,47,15],[91,12,48,8,"title"],[91,17,48,13],[91,19,48,15],[91,45,48,41],[92,12,49,8,"body"],[92,16,49,12],[92,18,49,14],[92,75,49,71],[93,12,50,8,"sound"],[93,17,50,13],[93,19,50,15],[93,23,50,19],[94,12,51,8,"data"],[94,16,51,12],[94,18,51,14],[95,14,51,16,"kind"],[95,18,51,20],[95,20,51,22],[96,12,51,39],[97,10,52,6],[97,11,52,7],[98,10,53,6,"trigger"],[98,17,53,13],[98,19,53,15],[99,12,54,8,"type"],[99,16,54,12],[99,18,54,14],[99,24,54,20],[100,12,55,8,"seconds"],[100,19,55,15],[100,21,55,17,"triggerSeconds"],[100,35,55,31],[101,12,56,8,"repeats"],[101,19,56,15],[101,21,56,17],[102,10,57,6],[103,8,58,4],[103,9,58,5],[103,10,58,6],[104,8,60,4,"console"],[104,15,60,11],[104,16,60,12,"log"],[104,19,60,15],[104,20,60,16],[104,59,60,55],[104,61,60,57,"notificationId"],[104,75,60,71],[104,76,60,72],[105,8,61,4,"console"],[105,15,61,11],[105,16,61,12,"log"],[105,19,61,15],[105,20,61,16],[105,60,61,56],[105,61,61,57],[106,8,63,4],[106,15,63,11],[107,10,63,13,"ok"],[107,12,63,15],[107,14,63,17],[107,18,63,21],[108,10,63,23,"notificationId"],[109,8,63,38],[109,9,63,39],[110,6,64,2],[110,7,64,3],[110,8,64,4],[110,15,64,11,"error"],[110,20,64,16],[110,22,64,18],[111,8,65,4,"console"],[111,15,65,11],[111,16,65,12,"error"],[111,21,65,17],[111,22,65,18],[111,60,65,56],[111,62,65,58,"error"],[111,67,65,63],[111,68,65,64],[112,8,66,4],[112,15,66,11],[113,10,66,13,"ok"],[113,12,66,15],[113,14,66,17],[113,19,66,22],[114,10,66,24,"reason"],[114,16,66,30],[114,18,66,32],[115,8,66,40],[115,9,66,41],[116,6,67,2],[117,4,68,0],[117,5,68,1],[118,4,68,1],[118,11,68,1,"_scheduleDailyNotification"],[118,37,68,1],[118,38,68,1,"apply"],[118,43,68,1],[118,50,68,1,"arguments"],[118,59,68,1],[119,2,68,1],[120,2,68,1],[120,11,73,22,"cancelDailyNotification"],[120,34,73,45,"cancelDailyNotification"],[120,35,73,45],[121,4,73,45],[121,11,73,45,"_cancelDailyNotification"],[121,35,73,45],[121,36,73,45,"apply"],[121,41,73,45],[121,48,73,45,"arguments"],[121,57,73,45],[122,2,73,45],[123,2,82,0],[124,0,83,0],[125,0,84,0],[126,2,82,0],[126,11,82,0,"_cancelDailyNotification"],[126,36,82,0],[127,4,82,0,"_cancelDailyNotification"],[127,28,82,0],[127,35,82,0,"_asyncToGenerator"],[127,52,82,0],[127,53,82,0,"default"],[127,60,82,0],[127,62,73,7],[127,75,73,63],[128,6,74,2],[128,10,74,6],[129,8,75,4],[129,14,75,10,"Notifications"],[129,27,75,23],[129,28,75,24,"cancelScheduledNotificationAsync"],[129,60,75,56],[129,61,75,57,"DAILY_NOTIFICATION_IDENTIFIER"],[129,90,75,86],[129,91,75,87],[130,8,76,4,"console"],[130,15,76,11],[130,16,76,12,"log"],[130,19,76,15],[130,20,76,16],[130,50,76,46],[130,51,76,47],[131,6,77,2],[131,7,77,3],[131,8,77,4],[131,15,77,11,"error"],[131,20,77,16],[131,22,77,18],[132,8,78,4,"console"],[132,15,78,11],[132,16,78,12,"error"],[132,21,78,17],[132,22,78,18],[132,60,78,56],[132,62,78,58,"error"],[132,67,78,63],[132,68,78,64],[133,6,79,2],[134,4,80,0],[134,5,80,1],[135,4,80,1],[135,11,80,1,"_cancelDailyNotification"],[135,35,80,1],[135,36,80,1,"apply"],[135,41,80,1],[135,48,80,1,"arguments"],[135,57,80,1],[136,2,80,1],[137,2,80,1],[137,11,85,22,"testLocalNotificationIn10Seconds"],[137,43,85,54,"testLocalNotificationIn10Seconds"],[137,44,85,54],[138,4,85,54],[138,11,85,54,"_testLocalNotificationIn10Seconds"],[138,44,85,54],[138,45,85,54,"apply"],[138,50,85,54],[138,57,85,54,"arguments"],[138,66,85,54],[139,2,85,54],[140,2,85,54],[140,11,85,54,"_testLocalNotificationIn10Seconds"],[140,45,85,54],[141,4,85,54,"_testLocalNotificationIn10Seconds"],[141,37,85,54],[141,44,85,54,"_asyncToGenerator"],[141,61,85,54],[141,62,85,54,"default"],[141,69,85,54],[141,71,85,7],[141,84,87,2],[142,6,88,2],[142,10,88,2,"_yield$Notifications$2"],[142,32,88,2],[142,41,88,27,"Notifications"],[142,54,88,40],[142,55,88,41,"requestPermissionsAsync"],[142,78,88,64],[142,79,88,65],[142,80,88,66],[143,8,88,10,"status"],[143,14,88,16],[143,17,88,16,"_yield$Notifications$2"],[143,39,88,16],[143,40,88,10,"status"],[143,46,88,16],[144,6,90,2],[144,10,90,6,"status"],[144,16,90,12],[144,21,90,17],[144,30,90,26],[144,32,90,28],[145,8,91,4],[145,15,91,11],[146,10,91,13,"ok"],[146,12,91,15],[146,14,91,17],[146,19,91,22],[147,10,91,24,"reason"],[147,16,91,30],[147,18,91,32],[148,8,91,52],[148,9,91,53],[149,6,92,2],[150,6,94,2],[150,10,94,8,"notificationId"],[150,24,94,22],[150,33,94,31,"Notifications"],[150,46,94,44],[150,47,94,45,"scheduleNotificationAsync"],[150,72,94,70],[150,73,94,71],[151,8,95,4,"content"],[151,15,95,11],[151,17,95,13],[152,10,96,6,"title"],[152,15,96,11],[152,17,96,13],[152,38,96,34],[153,10,97,6,"body"],[153,14,97,10],[153,16,97,12],[153,61,97,57],[154,10,98,6,"sound"],[154,15,98,11],[154,17,98,13],[154,21,98,17],[155,10,99,6,"data"],[155,14,99,10],[155,16,99,12],[156,12,99,14,"kind"],[156,16,99,18],[156,18,99,20],[157,10,99,27],[158,8,100,4],[158,9,100,5],[159,8,101,4,"trigger"],[159,15,101,11],[159,17,101,13],[160,10,101,15,"type"],[160,14,101,19],[160,16,101,21],[160,22,101,27],[161,10,101,29,"seconds"],[161,17,101,36],[161,19,101,38],[162,8,101,41],[163,6,102,2],[163,7,102,3],[163,8,102,4],[164,6,104,2,"console"],[164,13,104,9],[164,14,104,10,"log"],[164,17,104,13],[164,18,104,14],[164,51,104,47],[164,53,104,49,"notificationId"],[164,67,104,63],[164,69,104,65],[164,73,104,69],[164,75,104,71],[164,79,104,75,"Date"],[164,83,104,79],[164,84,104,80],[164,85,104,81],[164,86,104,82,"toISOString"],[164,97,104,93],[164,98,104,94],[164,99,104,95],[164,100,104,96],[165,6,105,2,"console"],[165,13,105,9],[165,14,105,10,"log"],[165,17,105,13],[165,18,105,14],[165,40,105,36],[165,42,105,38],[165,46,105,42,"Date"],[165,50,105,46],[165,51,105,47,"Date"],[165,55,105,51],[165,56,105,52,"now"],[165,59,105,55],[165,60,105,56],[165,61,105,57],[165,64,105,60],[165,69,105,65],[165,70,105,66],[165,71,105,67,"toISOString"],[165,82,105,78],[165,83,105,79],[165,84,105,80],[165,85,105,81],[166,6,107,2],[166,13,107,9],[167,8,107,11,"ok"],[167,10,107,13],[167,12,107,15],[168,6,107,20],[168,7,107,21],[169,4,108,0],[169,5,108,1],[170,4,108,1],[170,11,108,1,"_testLocalNotificationIn10Seconds"],[170,44,108,1],[170,45,108,1,"apply"],[170,50,108,1],[170,57,108,1,"arguments"],[170,66,108,1],[171,2,108,1],[172,0,108,1],[172,3]],"functionMap":{"names":["<global>","Notifications.setNotificationHandler$argument_0.handleNotification","getSecondsUntilMidnight","scheduleDailyNotification","cancelDailyNotification","testLocalNotificationIn10Seconds"],"mappings":"AAA;sBCG;IDI;AEQ;CFM;OGK;CHyC;OIK;CJO;OKK;CLuB"},"hasCjsExports":false},"type":"js/module"}]}